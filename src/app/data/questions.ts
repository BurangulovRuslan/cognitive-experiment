export interface Question {
  id: string;
  text: string;
  img: string;
  answers: string[];
}

export const DATA_SET_A: Question[] = [
  {
    id: 'A01',
    text:
      'Антонио Гауди использовал для проектирования сводов подвесные цепи. Кривая, которую образует провисающая под собственным весом цепь, описывается гиперболическим косинусом. Это не парабола, хотя внешне похожа. Как называется эта кривая (а не её перевернутый для арки вариант)?',
    img: 'q_a_01.jpg',
    answers: [
      'цепная линия',
      'катенарий',
      'катенарная линия',
      'catenary'
    ]
  },
  {
    id: 'A02',
    text:
      'В 2014 году Нобелевскую премию дали за открытие системы навигации мозга. Джон О’Киф открыл «клетки места». А супруги Мозер в 2005 году обнаружили в энторинальной коре клетки, которые активируются в вершинах правильных шестиугольников, покрывая пространство координатной сеткой. Как называются эти клетки?',
    img: 'q_a_02.jpg',
    answers: [
      'клетки решетки',
      'клетки решётки',
      'решеточные клетки',
      'решёточные клетки',
      'решетчатые клетки',
      'решётчатые клетки',
      'grid нейроны',
      'grid-нейроны',
      'грид нейроны',
      'гридовые нейроны'
    ]
  },
  {
    id: 'A03',
    text:
      'Режиссёр анализирует фильм 2002 года с Моникой Беллуччи, состоящий из 13 эпизодов, смонтированных от конца к началу. Название фильма на французском языке описывает процесс, который термодинамически не может самопроизвольно вернуться в исходное состояние (рост энтропии). Как называется фильм?',
    img: 'q_a_03.jpg',
    answers: [
      'необратимость',
      'ирреверсибль',
      'irreversible',
      'irréversible'
    ]
  },
  {
    id: 'A04',
    text:
      'Программист расшифровал последовательность «HVVHQFH» (использовав шифр Цезаря со сдвигом -3) и получил английское слово. В фундаментальной онтологии Жан-Поля Сартра (труд 1943 года) это понятие противопоставляется Существованию (Existence) и обозначает неизменную природу вещи. Какое слово получилось в переводе на русский?',
    img: 'q_a_04.jpg',
    answers: ['сущность', 'essence']
  },
  {
    id: 'A05',
    text:
      'В XIX веке астрономы обнаружили, что перигелий орбиты этой планеты смещается на 43 угловые секунды в столетие быстрее, чем предсказывает ньютоновская механика. Урбен Леверье безуспешно искал планету Вулкан, чтобы объяснить это. Загадку решила только Общая теория относительности. О какой планете идет речь?',
    img: 'q_a_05.jpg',
    answers: ['меркурий', 'mercury']
  },
  {
    id: 'A06',
    text:
      'В 1799 году солдаты Наполеона нашли плиту с декретом Птолемея V. Долгое время во всех каталогах писали, что плита сделана из черного базальта. Однако современный анализ показал, что это магматическая горная порода гранодиорит. Назовите этот артефакт.',
    img: 'q_a_06.jpg',
    answers: [
      'розеттский камень',
      'камень розетта',
      'розетта',
      'rosetta stone'
    ]
  },
  {
    id: 'A07',
    text:
      'В ходе вскрытия тела жертвы громкого убийства в 1978 году была обнаружена крошечная платиново-иридиевая капсула диаметром 1.52 мм. Внутри содержались следы фитотоксина, механизм которого заключается в удалении аденина из рибосомальной РНК, что полностью блокирует синтез белка в клетках. Какое вещество было использовано?',
    img: 'q_a_07.jpg',
    answers: ['рицин', 'ricin']
  },
  {
    id: 'A08',
    text:
      'Экономист Хорст Зиберт ввел термин для ситуации, когда попытка решить проблему с помощью прямых стимулов делает её хуже. Название происходит от исторического анекдота: колониальное правительство в Индии назначило награду за головы змей, чтобы их истребить, но местные жители начали разводить их ради денег. Как называется этот эффект?',
    img: 'q_a_08.jpg',
    answers: ['эффект кобры', 'cobra effect']
  },
  {
    id: 'A09',
    text:
      'Писатель, родившийся в Индии и умерший от туберкулеза в 1950-м, известен под псевдонимом. Его настоящее имя (First name) совпадало с именем рыжего викинга — первооткрывателя Гренландии. А настоящая фамилия (Last name) совпадала с именем (не фамилией!) главной героини сериала «Сплетница» (Blair Waldorf). Какой псевдоним он выбрал?',
    img: 'q_a_09.jpg',
    answers: [
      'джордж оруэлл',
      'джордж орвелл',
      'оруэлл',
      'орвелл',
      'george orwell'
    ]
  },
  {
    id: 'A10',
    text:
      'Композитор изучает микротональную систему, делящую октаву на равные интервалы — комм. Количество этих интервалов — простое число. В таблице Менделеева под этим же номером находится галоген, необходимый для синтеза гормонов щитовидной железы. Сколько интервалов в этой системе?',
    img: 'q_a_10.jpg',
    answers: ['53', 'пятьдесят три', 'пятьдесяттри']
  },
  {
    id: 'A11',
    text:
      'Этот термин, популяризированный режиссерами триллеров 20-го века, обозначает предмет, вокруг которого строится всё действие сюжета. Герои могут гоняться за ним весь фильм, убивать ради него или прятать его. При этом зрителю часто даже не объясняют, что это за предмет и какими свойствами он обладает, так как сам по себе он не важен — важна лишь погоня. Как называется такой сценарный инструмент?',
    img: 'q_a_11.jpg',
    answers: [
      'макгаффин',
      'макгафин',
      'маггаффин',
      'macguffin'
    ]
  },
  {
    id: 'A12',
    text:
      'Существует контринтуитивный физический парадокс, замеченный еще Аристотелем, но официально описанный в XX веке школьником из Танзании. Суть парадокса в том, что при определенных условиях жидкость, имеющая высокую начальную температуру, превращается в твердое состояние (лёд) быстрее, чем такая же жидкость с более низкой начальной температурой. Как называется этот эффект?',
    img: 'q_a_12.jpg',
    answers: ['эффект мпембы', 'эффект мпемба', 'мпемба', 'mpemba effect']
  },
  {
    id: 'A13',
    text:
      'Разновидность зрительной иллюзии, свойственная человеческой психике. Это сбой сенсорного восприятия, при котором человек видит сформированный, узнаваемый образ (чаще всего человеческое лицо или фигуру) в совершенно случайных, хаотичных деталях реального объекта — например, в узорах на ковре, в форме облаков или на поверхности Марса. Как называется это явление?',
    img: 'q_a_13.jpg',
    answers: ['парейдолия', 'pareidolia']
  },
  {
    id: 'A14',
    text:
      'Эта социальная теория, сформулированная в 1980-х годах, утверждает прямую связь между беспорядком и уровнем преступности. Согласно теории, если в здании не заменить одно треснувшее стекло, то вскоре в нем будут выбиты и все остальные, а мародерство станет нормой. То есть попустительство мелким нарушениям (мусор, граффити) неизбежно провоцирует людей на совершение тяжких преступлений. Как называется эта теория?',
    img: 'q_a_14.jpg',
    answers: [
      'теория разбитых окон',
      'гипотеза разбитых окон',
      'broken windows theory'
    ]
  },
  {
    id: 'A15',
    text:
      'Этот физический эффект описывает изменение частоты и длины волны излучения, воспринимаемое наблюдателем, вследствие движения источника излучения. В акустике мы замечаем его, когда мимо нас на большой скорости проезжает машина с включенной сиреной: тон звука резко понижается в момент, когда машина проносится мимо и начинает удаляться. Как называется этот эффект?',
    img: 'q_a_15.jpg',
    answers: ['эффект доплера', 'эффект допплера', 'доплера', 'допплера', 'doppler effect']
  }
];

export const DATA_SET_B: Question[] = [
  {
    id: 'B01',
    text:
      'Это простое число сыграло ключевую роль в истории незаконного распространения кода. В 2001 году программисты распространяли его на футболках и в электронной почте в знак протеста против запрета алгоритма дешифровки DVD. Это число было первым в истории «незаконным простым числом». Оно состоит из 1401 цифры. Назовите первые четыре цифры этого знаменитого числа.',
    img: 'q_b_01.jpg',
    answers: ['4856', '4 856', '4\u00a0856']
  },
  {
    id: 'B02',
    text:
      'В классической ордерной системе Витрувия все размеры здания (высота колонны, антаблемент) зависят от одного базового параметра — обычно это нижний диаметр колонны у основания. Как называется эта условная единица измерения пропорций?',
    img: 'q_b_02.jpg',
    answers: ['модуль', 'modulus', 'module']
  },
  {
    id: 'B03',
    text:
      'Для фильма 1999 года была разработана технология: массив из 120 фотоаппаратов располагался по траектории движения, и они срабатывали последовательно. Это позволяло показать облет камеры вокруг застывшего объекта. Как официально называется этот визуальный эффект?',
    img: 'q_b_03.jpg',
    answers: [
      'bullet time',
      'bullet-time',
      'буллет тайм',
      'буллет-тайм',
      'эффект пули',
      'пулевой тайм',
      'bullet time effect'
    ]
  },
  {
    id: 'B04',
    text:
      'Средневековые алхимики называли это вещество «купоросным маслом». Это двухосновная кислота. В современной номенклатуре её название связано с неметаллом, который стоит под номером 16 в таблице Менделеева. Как называется эта кислота?',
    img: 'q_b_04.jpg',
    answers: ['серная кислота', 'серная', 'h2so4', 'купоросное масло']
  },
  {
    id: 'B05',
    text:
      'Психиатр Жозеф описал синдром в 1923 году: пациент узнает лицо близкого, но из-за разрыва нейронной связи между зрительной корой и лимбической системой не испытывает эмоций. Мозг интерпретирует это как подмену человека идентичным двойником. Как называется этот синдром?',
    img: 'q_b_05.jpg',
    answers: ['синдром капгра', 'синдром капграса', 'капгра', 'бред капгра', 'capgras syndrome']
  },
  {
    id: 'B06',
    text:
      'В 1938 году Пётр Капица обнаружил, что при охлаждении гелия-4 ниже 2.17 Кельвина жидкость переходит в квантовое состояние, где она может протекать через капилляры без трения и даже «выползать» из сосуда вверх по стенкам. Как называется это явление?',
    img: 'q_b_06.jpg',
    answers: ['сверхтекучесть', 'суперфлюидность', 'superfluidity']
  },
  {
    id: 'B07',
    text:
      'Искусствовед анализирует технику, доведенную до совершенства Караваджо. Суть в резком, театральном контрасте, где луч света выхватывает фигуры из глубокой темноты. Термин происходит от слияния двух итальянских слов: «светлый» и «тёмный». Как называется техника?',
    img: 'q_b_07.jpg',
    answers: ['кьяроскуро', 'киароскуро', 'chiaroscuro']
  },
  {
    id: 'B08',
    text:
      'В 1977 году Карл Вёзе, анализируя рибосомальную РНК, сделал революционное открытие. Он выяснил, что организмы, живущие в экстремальных условиях (кипящие источники, кислота), генетически отличаются от бактерий так же сильно, как и от человека. Он выделил их в отдельный, третий домен жизни. Как называется этот домен?',
    img: 'q_b_08.jpg',
    answers: ['археи', 'архея', 'archaea', 'archaeans']
  },
  {
    id: 'B09',
    text:
      'В 1961 году было доказано, что клетки делятся ограниченное число раз из-за укорачивания концов хромосом. Однако существует фермент, который способен достраивать эти концы, делая клетку потенциально бессмертной (как раковую). За открытие этого фермента была вручена Нобелевская премия 2009 года. Назовите фермент.',
    img: 'q_b_09.jpg',
    answers: ['теломераза', 'telomerase']
  },
  {
    id: 'B10',
    text:
      'Искусствовед изучает историю подделок. В 1945 году обвиняемый в суде доказал, что продал не национальное достояние, а собственную мазню, нарисовав новую картину прямо во время процесса. Его секретом было использование бакелита (синтетической смолы) для имитации старой краски. Стиль какого великого художника он копировал?',
    img: 'q_b_10.jpg',
    answers: ['вермеер', 'йоханнес вермеер', 'ян вермеер', 'johannes vermeer', 'vermeer']
  },
  {
    id: 'B11',
    text:
      'Социальный феномен, проявившийся в эпоху интернета. Он заключается в том, что попытка известной личности или корпорации изъять определенную информацию (фотографию, файл, текст) из публичного доступа через суд или цензуру приводит к обратному результату — эта информация становится вирусной и распространяется в миллионах копий. Как называется этот эффект?',
    img: 'q_b_11.jpg',
    answers: ['эффект стрейзанд', 'стрейзанд эффект', 'streisand effect']
  },
  {
    id: 'B12',
    text:
      'Этот социологический закон гласит: как только определенный экономический показатель (метрика) становится целевым ориентиром для политики или награждения, он перестает быть хорошим показателем. Люди начинают манипулировать данными или менять поведение только ради цифры, игнорируя реальное качество работы. Как называется этот закон?',
    img: 'q_b_12.jpg',
    answers: ['закон гудхарта', 'гудхарт', 'goodharts law', "goodhart's law"]
  },
  {
    id: 'B13',
    text:
      'Проект идеальной тюрьмы, разработанный в XVIII веке, ставший метафорой тотального контроля. Конструкция представляет собой кольцевое здание с камерами, в центре которого находится башня надзирателя. Главный принцип: узник никогда не знает, наблюдают ли за ним в данный момент, и потому вынужден постоянно контролировать свое поведение сам. Как называется эта концепция?',
    img: 'q_b_13.jpg',
    answers: ['паноптикум', 'паноптикон', 'panopticon']
  },
  {
    id: 'B14',
    text:
      'Сатирический, но подтвержденный практикой принцип менеджмента. Он гласит, что в любой иерархической системе каждый сотрудник стремится подняться до уровня своей некомпетентности. Как называется этот принцип?',
    img: 'q_b_14.jpg',
    answers: ['принцип питера', 'закон питера', 'peter principle']
  },
  {
    id: 'B15',
    text:
      'Тяжелое психопатологическое расстройство, при котором пациент убежден, что он уже умер, не существует, что его тело разлагается или что у него отсутствуют жизненно важные внутренние органы. В крайних случаях пациент может утверждать, что и окружающего мира больше не существует. Как он называется?',
    img: 'q_b_15.jpg',
    answers: ['синдром котара', 'бред котара', 'cotard syndrome', 'cotard']
  }
];

// (опционально, но сильно помогает) — нормализация не только регистра, но и «ё/е», дефисов и лишней пунктуации
export function normalizeAnswer(input: string): string {
  return input
    .trim()
    .toLowerCase()
    .replace(/ё/g, 'е')
    .replace(/[–—−]/g, '-')          // разные тире → дефис
    .replace(/[-_/]+/g, ' ')         // дефисы/подчёркивания → пробел
    .replace(/[“”"«»()[\]{}.,!?;:]/g, ' ') // пунктуация → пробел
    .replace(/\s+/g, ' ')
    .trim();
}

export function checkAnswer(question: Question, userInput: string): boolean {
  const normalized = normalizeAnswer(userInput);
  return question.answers.some(ans => normalizeAnswer(ans) === normalized);
}
